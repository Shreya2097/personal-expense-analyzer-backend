{"ast":null,"code":"var _jsxFileName = \"F:\\\\GitHub\\\\PersonalExpenses\\\\Frontend\\\\src\\\\components\\\\UploadForm.js\",\n  _s = $RefreshSig$();\n// src/components/UploadForm.js\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadForm({\n  onUploadSuccess\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setMessage(\"\");\n    setErrors([]);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      setMessage(\"Please select a CSV file.\");\n      return;\n    }\n    setUploading(true);\n    setMessage(\"\");\n    setErrors([]);\n    try {\n      const result = await onUploadSuccess(file);\n      setMessage(`Uploaded: ${result.successCount}/${result.totalRows} rows. Failed: ${result.failureCount}.`);\n      if (result.errors && result.errors.length > 0) {\n        setErrors(result.errors);\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Upload failed. Please check the file and try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Expenses CSV\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"muted\",\n      children: [\"Expected columns: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"date, description, category, amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 27\n      }, this), \" (yyyy-MM-dd).\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: uploading,\n        children: uploading ? \"Uploading...\" : \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }, this), errors.length > 0 && /*#__PURE__*/_jsxDEV(\"details\", {\n      className: \"error-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n        children: [\"View row-level errors (\", errors.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: errors.map((err, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: err\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadForm, \"spXf4eX0haNGNuLQ3Xd0KOly5Rg=\");\n_c = UploadForm;\nexport default UploadForm;\nvar _c;\n$RefreshReg$(_c, \"UploadForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","UploadForm","onUploadSuccess","_s","file","setFile","uploading","setUploading","message","setMessage","errors","setErrors","handleFileChange","e","target","files","handleSubmit","preventDefault","result","successCount","totalRows","failureCount","length","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","accept","onChange","disabled","map","idx","_c","$RefreshReg$"],"sources":["F:/GitHub/PersonalExpenses/Frontend/src/components/UploadForm.js"],"sourcesContent":["// src/components/UploadForm.js\r\nimport React, { useState } from \"react\";\r\n\r\nfunction UploadForm({ onUploadSuccess }) {\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setMessage(\"\");\r\n    setErrors([]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!file) {\r\n      setMessage(\"Please select a CSV file.\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setMessage(\"\");\r\n    setErrors([]);\r\n\r\n    try {\r\n      const result = await onUploadSuccess(file);\r\n      setMessage(\r\n        `Uploaded: ${result.successCount}/${result.totalRows} rows. Failed: ${result.failureCount}.`\r\n      );\r\n      if (result.errors && result.errors.length > 0) {\r\n        setErrors(result.errors);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Upload failed. Please check the file and try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Upload Expenses CSV</h2>\r\n      <p className=\"muted\">\r\n        Expected columns: <b>date, description, category, amount</b> (yyyy-MM-dd).\r\n      </p>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"file\"\r\n          accept=\".csv\"\r\n          onChange={handleFileChange}\r\n        />\r\n        <button type=\"submit\" disabled={uploading}>\r\n          {uploading ? \"Uploading...\" : \"Upload\"}\r\n        </button>\r\n      </form>\r\n      {message && <p className=\"status\">{message}</p>}\r\n      {errors.length > 0 && (\r\n        <details className=\"error-list\">\r\n          <summary>View row-level errors ({errors.length})</summary>\r\n          <ul>\r\n            {errors.map((err, idx) => (\r\n              <li key={idx}>{err}</li>\r\n            ))}\r\n          </ul>\r\n        </details>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}