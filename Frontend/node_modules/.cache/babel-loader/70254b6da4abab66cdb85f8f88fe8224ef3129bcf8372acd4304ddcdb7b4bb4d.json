{"ast":null,"code":"var _jsxFileName = \"F:\\\\GitHub\\\\PersonalExpenses\\\\Frontend\\\\src\\\\components\\\\UploadForm.js\",\n  _s = $RefreshSig$();\n// src/components/UploadForm.js\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadForm({\n  onUploadSuccess,\n  mode = \"landing\"\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const isLanding = mode === \"landing\";\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n    setMessage(\"\");\n    setErrors([]);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      setMessage(\"Please select a CSV file.\");\n      return;\n    }\n    setUploading(true);\n    setMessage(\"\");\n    setErrors([]);\n    try {\n      const result = await onUploadSuccess(file);\n      if (result) {\n        setMessage(`Uploaded: ${result.successCount}/${result.totalRows} rows. Failed: ${result.failureCount}.`);\n        if (result.errors && result.errors.length > 0) {\n          setErrors(result.errors);\n        }\n      } else {\n        setMessage(\"Upload completed, but no response received.\");\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Upload failed. Please check the file and try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  if (isLanding) {\n    // Big, pretty uploader for the landing page\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"upload-form-landing\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"upload-dropzone\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-icon\",\n          children: \"\\uD83D\\uDCC2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-text-main\",\n          children: \"Drop your CSV here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-text-sub\",\n          children: [\"or \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"upload-cta\",\n            children: \"browse from your device\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".csv\",\n          onChange: handleFileChange,\n          style: {\n            display: \"none\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: uploading,\n        children: uploading ? \"Uploading...\" : \"Analyze my expenses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"status landing-status\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), errors.length > 0 && /*#__PURE__*/_jsxDEV(\"details\", {\n        className: \"error-list landing-error-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: [\"View row-level issues (\", errors.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: errors.map((err, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: err\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Compact uploader for dashboard header\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"upload-form-inline\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"upload-inline-label\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Upload CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: uploading,\n      children: uploading ? \"Uploading...\" : \"Re-analyze\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"status inline-status\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadForm, \"spXf4eX0haNGNuLQ3Xd0KOly5Rg=\");\n_c = UploadForm;\nexport default UploadForm;\nvar _c;\n$RefreshReg$(_c, \"UploadForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","UploadForm","onUploadSuccess","mode","_s","file","setFile","uploading","setUploading","message","setMessage","errors","setErrors","isLanding","handleFileChange","e","target","files","handleSubmit","preventDefault","result","successCount","totalRows","failureCount","length","err","console","error","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","display","disabled","map","idx","_c","$RefreshReg$"],"sources":["F:/GitHub/PersonalExpenses/Frontend/src/components/UploadForm.js"],"sourcesContent":["// src/components/UploadForm.js\r\nimport React, { useState } from \"react\";\r\n\r\nfunction UploadForm({ onUploadSuccess, mode = \"landing\" }) {\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const isLanding = mode === \"landing\";\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setMessage(\"\");\r\n    setErrors([]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!file) {\r\n      setMessage(\"Please select a CSV file.\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setMessage(\"\");\r\n    setErrors([]);\r\n\r\n    try {\r\n      const result = await onUploadSuccess(file);\r\n      if (result) {\r\n        setMessage(\r\n          `Uploaded: ${result.successCount}/${result.totalRows} rows. Failed: ${result.failureCount}.`\r\n        );\r\n        if (result.errors && result.errors.length > 0) {\r\n          setErrors(result.errors);\r\n        }\r\n      } else {\r\n        setMessage(\"Upload completed, but no response received.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage(\"Upload failed. Please check the file and try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  if (isLanding) {\r\n    // Big, pretty uploader for the landing page\r\n    return (\r\n      <form className=\"upload-form-landing\" onSubmit={handleSubmit}>\r\n        <label className=\"upload-dropzone\">\r\n          <div className=\"upload-icon\">ðŸ“‚</div>\r\n          <div className=\"upload-text-main\">Drop your CSV here</div>\r\n          <div className=\"upload-text-sub\">\r\n            or <span className=\"upload-cta\">browse from your device</span>\r\n          </div>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".csv\"\r\n            onChange={handleFileChange}\r\n            style={{ display: \"none\" }}\r\n          />\r\n        </label>\r\n        <button type=\"submit\" disabled={uploading}>\r\n          {uploading ? \"Uploading...\" : \"Analyze my expenses\"}\r\n        </button>\r\n\r\n        {message && <p className=\"status landing-status\">{message}</p>}\r\n\r\n        {errors.length > 0 && (\r\n          <details className=\"error-list landing-error-list\">\r\n            <summary>View row-level issues ({errors.length})</summary>\r\n            <ul>\r\n              {errors.map((err, idx) => (\r\n                <li key={idx}>{err}</li>\r\n              ))}\r\n            </ul>\r\n          </details>\r\n        )}\r\n      </form>\r\n    );\r\n  }\r\n\r\n  // Compact uploader for dashboard header\r\n  return (\r\n    <form className=\"upload-form-inline\" onSubmit={handleSubmit}>\r\n      <label className=\"upload-inline-label\">\r\n        <span>Upload CSV</span>\r\n        <input\r\n          type=\"file\"\r\n          accept=\".csv\"\r\n          onChange={handleFileChange}\r\n        />\r\n      </label>\r\n      <button type=\"submit\" disabled={uploading}>\r\n        {uploading ? \"Uploading...\" : \"Re-analyze\"}\r\n      </button>\r\n      {message && <p className=\"status inline-status\">{message}</p>}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}